\documentclass[main.tex]{subfiles}
%\usepackage{amssymb}
\begin{document}

Los brazos robóticos ya son muy conocidos y utilizados pero el
valor agregado es la reconfiguracion/reprogramacion mediante un
brazo robótico a escala.

Indagar a nivel nacional la necesidad de las empresas, y presentarle
esta solución económica y reutilizable al ser de bajo costo y de alta
factibilidad.

Básicamente lo que se plantea es un brazo multifuncional, de esta manera
no hay necesidad de desechar un brazo, de esta manera disminuyendo el
impacto ambiental.


\subsection{Geometría 3D}
Para el desarrollo e implementación del código es necesario conocer
el modo de operación de las ecuaciones y funciones definidas. Por
tanto a continuación se muestran las definiciones y ecuaciones
previas al desarrollo del código.

\begin{itemize}
\item Puntos o vectores
  \begin{itemize}
  \item Vector
    \begin{equation}
      \mathbf{X} = \left(
      \begin{array}{ccc}x \\y \\z \\\end{array} \right)
      \in{ \mathbb{R}^{3} }
    \end{equation}
  \item Vector aumentado
    \begin{equation}
      \mathbf{\bar{X}} = \left(
          \begin{array}{cccc}x \\y \\z \\1 \\
          \end{array}        \right) \in{\mathbb{R}^{4}}
    \end{equation}
  \item Coordenadas Homogéneas
    \begin{equation}
      \mathbf{\tilde{X}} = \left(
          \begin{array}{ccc}
            \tilde{x} \\ \tilde{y} \\ \tilde{z} \\ \tilde{w} \\
          \end{array}
        \right) \in \mathbb{P}^{3}
    \end{equation}
  \end{itemize}
\item Rectas
  \begin{itemize}
  \item Recta sobre los puntos p y q
    \begin{equation}
      r = (1 - \lambda)p + \lambda q
        ,\qquad
      \lambda \in \mathbb{R}
    \end{equation}
  \item Segmento de línea sobre p y q
    \begin{equation}
      r = (1-\lambda )p+\lambda q ,\qquad 0\leq \lambda  \leq 1
    \end{equation}
    \begin{figure}[h]
      \centering
      \includegraphics[width=0.2\textwidth]{../img/recta_3d.jpg}
      \caption{Recta 3D}
      \label{recta_3d}
    \end{figure}
  \end{itemize}
\item Planos:
  \begin{itemize}
  \item Representación vectorial del plano
    \begin{equation}
      \tilde{m}=\left ( a,b,c,d \right )^{T}
    \end{equation}
  \item Ecuación del plano
    \begin{equation}
      \tilde{m}=\left ( a,b,c,d \right )^{T}    
    \end{equation}
  \item Plano normalizado con vector unitario normal “n” y distancia “d”
    \begin{equation}
      m= \left( \hat{n_{x}},\hat{n_{y}},\hat{n_{z}},d \right) ^ {T}=
         \left( \hat{n},d \right)
    \end{equation}
    \begin{equation}
      \left \| \hat{n} \right \| = 1
    \end{equation}
    \begin{figure}[h]
      \centering
      \includegraphics[width=0.2\textwidth]{../img/plano_3d.jpg}
      \caption{Plano 3D}
      \label{plano_3d}
    \end{figure}
  \end{itemize}
\end{itemize}

\subsection{Transformaciones de coordenadas}
\begin{itemize}
\item Traslación
  \begin{equation}
    {\tilde{x}}'= \begin{pmatrix}
                    I & t \\
                    0^{T} & 1 \end{pmatrix} \tilde{x}
  \end{equation}
  
\item Rotación
  \begin{equation}
    {\tilde{x}}' = \begin{pmatrix}
                     R &1 \\
                     0^{T} &1
                   \end{pmatrix}\tilde{x}  
  \end{equation}
  \begin{equation}
    R = \begin{pmatrix}
          r_{11} & r_{12}  &r_{13} \\ 
          r_{21} & r_{22}  &r_{23} \\ 
          r_{31} & r_{23}  &r_{33}
        \end{pmatrix}
  \end{equation}

\item Traslación y rotación (Transformaciones Euclidianas)
  \begin{itemize}
  \item Traslación con 3 grados de libertad
    \begin{equation}
      t \in \mathbb{R}^{3}
    \end{equation}
  \item Rotación con 3 grados de libertad
    \begin{equation}
      R \in \mathbb{R}^{3x3}
    \end{equation}
    \begin{equation}
      X = \begin{pmatrix}
            R & t \\
            0 & 1 \end{pmatrix} \tilde{x}
    \end{equation}
    \begin{equation}
      X = \begin{pmatrix}
            r_{11} & r_{12}  & r_{13} & t_{1}\\ 
            r_{21} & r_{22}  & r_{23} & t_{2}\\ 
            r_{31} & r_{23}  & r_{33} & t_{3}\\
            0      & 0       & 0      & 1
          \end{pmatrix}
    \end{equation}
  \end{itemize}
\end{itemize}

\subsection{Ángulos de Euler (Roll-Pitch-Yaw)}
\begin{figure}[h]
  \centering
  \includegraphics[width=0.3\textwidth]{../img/rpy_drone.jpg}
  \caption{Drone con sus ejes de Euler}
  \label{rpy_drone}
\end{figure}

\begin{itemize}
\item Conversión a matriz de rotación
  \begin{equation}
    \label{eq:matriz_Rot}
    R = R_{Z}(\psi) * R_{Y}(\theta) * R_{X}(\phi)
  \end{equation}
  Donde:
  \begin{equation}
    \label{eq:matriz_Rz}
    R_{Z}(\psi) = \begin{pmatrix}
          \cos \psi  & -\sin \psi  &0 \\ 
          \sin \psi &\cos \psi  & 0\\ 
          0&  0& 1
         \end{pmatrix}
  \end{equation}
  \begin{equation}
    \label{eq:matriz_Ry}
    R_{Y}(\theta) = \begin{pmatrix}
           \cos \theta&0&\sin \theta\\ 
           0 &1  &0 \\ 
           \sin \theta &0  & \cos \theta
         \end{pmatrix}
  \end{equation}
  \begin{equation}
    \label{eq:matriz_Rx}
    R_{X}(\phi) = \begin{pmatrix}
           1 &0  &0 \\ 
           0 &\cos \phi&-\sin \phi \\ 
           0 &\sin \phi&\cos \phi 
         \end{pmatrix}
  \end{equation}
%  Reemplazando (\ref{eq:matriz_Rz}),
%  (\ref{eq:matriz_Ry}),
%  (\ref{eq:matriz_Rx}) en
%  (\ref{eq:matriz_Rot}):
%  \begin{equation}
%    R = \bigl( \begin{bmatrix}
%            \cos\psi \cos\theta &
%            \cos\psi\sin\theta\sin\phi-sin\psi\cos\phi &
%            cos\psi\sin\theta\cos\phi+\sin\psi\sin\phi
%          \\
%            \sin\psi \cos\theta &
%            \sin\psi\sin\theta\sin\phi+cos\psi\cos\phi & 
%            \sin\psi\sin\theta\cos\phi-\cos\psi\sin\phi
%          \\
%            -\sin\theta &
%            \cos\theta\sin\phi  &
%            \cos\theta\cos\phi 
%        \end{bmatrix} \bigr)
%  \end{equation}
\item Conversión de matriz de rotación
  \begin{equation}
    \phi=\arctan 2(-r_{31},\sqrt{r_{11}^2+r_{21}^2})
  \end{equation}
  \begin{equation}
    \psi=-\arctan 2(\frac{r_{21}}{\cos\phi},\frac{r_{11}}{\cos\phi})
  \end{equation}
  \begin{equation}
    \theta=\arctan 2(\frac{r_{32}}{\cos\phi},\frac{r_{33}}{\cos\phi})
  \end{equation}
\end{itemize}

\subsection{Axis-Angle (eje-ángulo)}

\begin{figure}[h]
  \centering
  \includegraphics[width=0.25\textwidth]{../img/axisang.jpg}
  \caption{Ejemplo de Axis-angle}
  \label{axisang}
\end{figure}

Conversiones (Fórmula de Rodriguez)
\begin{equation}
  R(\hat{n},\theta) = I +
      \sin\theta\left [ \hat{n} \right ]_{x}
      +(1-\cos\theta)\left [ \hat{n} \right ]_{x}^2
\end{equation}
\begin{equation}
  \theta=\\cos^{-1}(\frac{trace(R)-1}{2})
\end{equation}
\begin{equation}
  \hat{n} = \frac{1}{2\sin\theta}
            \begin{bmatrix}
              r_{32}-r_{23}\\ 
              r_{13}-r_{31}\\ 
              r_{21}-r_{12}
            \end{bmatrix}
\end{equation}

\subsection{Quaterniones}
\begin{itemize}
\item Representación vectorial
  \begin{equation}
    q=\left ( q_{w},q_{x},q_{y},q_{z} \right )^T \in \mathbb{R}^4
  \end{equation}
  \begin{equation}
    q=\left ( r,v \right )^T  
  \end{equation}
\item Quaternion unitario
  \begin{equation}
    \left \| q \right \|=1
  \end{equation}
\item Relación Axis-angle
  \begin{equation}
    q = \left( r,v \right) ^ T
      = \left(
          \cos\frac{\theta}{2},
          \sin\frac{\theta}{2} \hat{n}
        \right) ^ T
  \end{equation}
\end{itemize}

\end{document}